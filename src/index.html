<!DOCTYPE html>

<html>
	<head>
		<meta charset="UTF-8">
		<title>Hello World!</title>
	</head>
	<body>
		<h1>Hello World!</h1>
		We are using node <script>document.write(process.versions.node)</script>,
		Chrome <script>document.write(process.versions.chrome)</script>,
		and Electron <script>document.write(process.versions.electron)</script>.

		<br>
		<br>

		<div class="left-eye">

		</div>

		<div class="right-eye">

		</div>

		<video autoplay></video>

		<script>
			var cv = require("../build/Release/module");

			// cv.startProcessing((left, right) => {
			// 	document.querySelector(".left-eye").innerText = parseFloat(left);
			// 	document.querySelector(".right-eye").innerText = parseFloat(right);
			// });
			
			function errorCallback(e) {
            console.log('Error', e)
         }

         navigator.getUserMedia({video: true}, (localMediaStream) => {
            var video = document.querySelector('video')
            video.src = window.URL.createObjectURL(localMediaStream)
            video.onloadedmetadata = (e) => {
               // Ready to go. Do some stuff.
            };
         }, errorCallback)
		</script>
	</body>
</html>